<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link href="https://fonts.googleapis.com/css2?family=Arsenal:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
      <link rel="stylesheet" href="general.css">
    <title>BookShelf - –ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</title>
    <style>
       * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
            body {
        background-color: #f9f5e9;
        color: #4e342e;
        min-height: 100vh;
        display: flex;
    }
    
    .sidebar {
        width: 80px;
        background-color: #43321F;
        height: 100vh;
    }
    
    .content {
        flex: 1;
        padding: 40px 60px;
        max-width: 800px;
        margin: 0 auto;
    }
    
    h1 {
        text-align: center;
        font-size: 48px;
        margin-bottom: 40px;
        color: #4e342e;
        font-weight: normal;
    }
    
    .book-item {
        display: flex;
        align-items: center;
        padding: 25px 0;
        border-bottom: 1px solid #e8e0d5;
        position: relative;
    }
    
    .book-item:last-child {
        border-bottom: none;
    }
    
    .book-image {
        width: 120px;
        height: 160px;
        margin-right: 30px;
        flex-shrink: 0;
    }
    
    .book-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border: 1px solid #e8e0d5;
    }
    
    .book-details {
        flex: 1;
    }
    
    .book-details h2 {
        font-size: 24px;
        line-height: 1.3;
        margin-bottom: 8px;
        font-weight: normal;
    }
    
    .book-details p {
        font-size: 18px;
        color: #795548;
        line-height: 1.4;
    }
    
    .book-price {
        font-size: 24px;
        font-weight: bold;
        color: #e65100;
        white-space: nowrap;
        margin-right: 20px;
    }
    
    .book-quantity {
        display: flex;
        align-items: center;
        margin-top: 10px;
    }
    
    .quantity-btn {
        background-color: #5d4037;
        color: white;
        border: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .quantity-input {
        width: 50px;
        text-align: center;
        margin: 0 10px;
        font-size: 18px;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 5px;
    }
    
    .remove-btn {
        position: absolute;
        top: 25px;
        right: 10px;
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: #795548;
    }
    
    .remove-btn:hover {
        color: #d32f2f;
    }
    
    .total {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 25px 0;
        font-size: 24px;
        border-top: 1px solid #e8e0d5;
        border-bottom: 1px solid #e8e0d5;
        margin: 25px 0;
    }
    
    .total span:last-child {
        font-weight: bold;
        color: #e65100;
    }
    
    .buy-button {
        display: block;
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
        padding: 18px;
        background-color: #5d4037;
        color: #fff;
        text-align: center;
        font-size: 24px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: normal;
        transition: background-color 0.3s;
    }
    
    .buy-button:hover {
        background-color: #4e342e;
    }
    
    .empty-cart {
        text-align: center;
        font-size: 24px;
        color: #795548;
        padding: 50px 0;
    }
    
    .continue-shopping {
        display: block;
        text-align: center;
        margin-top: 20px;
        color: #5d4037;
        text-decoration: none;
        font-size: 18px;
    }
    
    .continue-shopping:hover {
        text-decoration: underline;
    }
    </style>
</head>

<body>
    <header>
        <div class="wrapper">
            <div class="header_page">
                <div class="logo">
                    <img src="498813b038f4b6467c7a6b2e3abcd01dd18cbf85.png" alt="–õ–æ–≥–æ—Ç–∏–ø BookShelf">
                </div>
                <div class="inscription">
                    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="aboutus.html">–û –Ω–∞—Å</a>
                    <a href="choosen.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
                    <a href="basket.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
                </div>
                <div class="logo">
                    <img src="3eb7947bd732428f473cee7622d68b0f346158ff.png" alt="–ò–∫–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                </div>
            </div>
        </div>
    </header>
    <div class="main">
        <!-- –£–∑–∫–∏–π —Å–∞–π–¥–±–∞—Ä –∫–∞–∫ –≤ –º–∞–∫–µ—Ç–µ -->
         <div class="sidebar">
            <div class="sidebar-icon" title="–ì–ª–∞–≤–Ω–∞—è">
                <a href="index.html" style="color: inherit; text-decoration: none;">üè†</a>
                <span class="sidebar-tooltip">–ì–ª–∞–≤–Ω–∞—è</span>
            </div>
            <div class="sidebar-icon active" title="–ö–∞—Ç–∞–ª–æ–≥">
                <a href="Katalog.html" style="color: inherit; text-decoration: none;">üìö</a>
                <span class="sidebar-tooltip">–ö–∞—Ç–∞–ª–æ–≥</span>
            </div>
            <div class="sidebar-icon" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
                <a href="choosen.html" style="color: inherit; text-decoration: none;">‚ù§Ô∏è</a>
                <span class="sidebar-tooltip">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
            </div>
            <div class="sidebar-icon" title="–ö–æ—Ä–∑–∏–Ω–∞">
                <a href="basket.html" style="color: inherit; text-decoration: none;">üõí</a>
                <span class="sidebar-tooltip">–ö–æ—Ä–∑–∏–Ω–∞</span>
            </div>
            <div class="sidebar-vertical-text">
                BOOKSHELF
            </div>
        </div>
            <div class = "wrapper">
                <div class="content">
                    <h1>–ö–æ—Ä–∑–∏–Ω–∞</h1>
                    <div id="cart-items">
                        <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã -->
                    </div>
                    
                    <div id="empty-cart-message" class="empty-cart" style="display: none;">
                        –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
                        <a href="Katalog.html" class="continue-shopping">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
                    </div>
                    
                    <div id="cart-total" class="total" style="display: none;">
                        <span>–ò—Ç–æ–≥–æ</span>
                        <span id="total-price">0 ‚ÇΩ</span>
                    </div>
                    
                    <button id="buy-button" class="buy-button" style="display: none;">–ö—É–ø–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="wrapper">
            <div class="footer_page">
                <div class="inscription1">
                    <p>ùê∏ùìãùëíùìáùìé ùí∑ùëúùëúùìÄ ùíªùíæùìÉùíπùìà ùíæùìâùìà ùìàùíΩùëíùìÅùíª ùíΩùëíùìáùëí.</p>
                </div>
                <div class="links">
                    <a class="big_words" href="Katalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
                    <a href="aboutus.html">–û –Ω–∞—Å</a>
                    <a href="delivery.html">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                    <div class="other">¬© 2026 –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</div>
                </div>
                <div class="contacts">
                    <a href="Contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    <div class="icons">
                        <img src="1c0ffca3f9a49ea472972b706c675462d8a2f727.png" alt="–°–æ—Ü—Å–µ—Ç—å 1">
                        <img src="cff2f600ccb452e853b86f7b3537f97ca4519747.png" alt="–°–æ—Ü—Å–µ—Ç—å 2">
                        <img src="95f772b910eb8c8c4d1690e8cf834b3c86f8c6dc.png" alt="–°–æ—Ü—Å–µ—Ç—å 3">
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π (—Ç–∞–∫–æ–π –∂–µ –∫–∞–∫ –≤ Katalog.html)
        class Cart {
            constructor() {
                this.items = this.loadCart() || [];
            }
            
            loadCart() {
                const cartData = localStorage.getItem('bookCart');
                return cartData ? JSON.parse(cartData) : null;
            }
            
            saveCart() {
                localStorage.setItem('bookCart', JSON.stringify(this.items));
            }
            
            addItem(book) {
                const existingItem = this.items.find(item => item.id === book.id);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    book.quantity = 1;
                    this.items.push(book);
                }
                
                this.saveCart();
                this.updateCartIndicator();
                return book;
            }
            
            removeItem(bookId) {
                this.items = this.items.filter(item => item.id !== bookId);
                this.saveCart();
                this.updateCartIndicator();
            }
            
            updateQuantity(bookId, quantity) {
                const item = this.items.find(item => item.id === bookId);
                if (item) {
                    item.quantity = quantity;
                    this.saveCart();
                }
            }
            
            getTotalItems() {
                return this.items.reduce((total, item) => total + item.quantity, 0);
            }
            
            getTotalPrice() {
                return this.items.reduce((total, item) => total + (item.price * item.quantity), 0);
            }
            
            clearCart() {
                this.items = [];
                this.saveCart();
                this.updateCartIndicator();
            }
            
            updateCartIndicator() {
                const totalItems = this.getTotalItems();
                const cartIndicator = document.getElementById('cartIndicator');
                
                if (cartIndicator) {
                    cartIndicator.textContent = totalItems > 0 ? `üõí (${totalItems})` : 'üõí';
                }
            }
            
            getItems() {
                return this.items;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã
        const cart = new Cart();

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
        function displayCartItems() {
            const cartItemsContainer = document.getElementById('cart-items');
            const emptyCartMessage = document.getElementById('empty-cart-message');
            const cartTotal = document.getElementById('cart-total');
            const buyButton = document.getElementById('buy-button');
            const totalPriceElement = document.getElementById('total-price');
            
            const items = cart.getItems();
            
            if (items.length === 0) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω–µ
                cartItemsContainer.innerHTML = '';
                emptyCartMessage.style.display = 'block';
                cartTotal.style.display = 'none';
                buyButton.style.display = 'none';
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
                emptyCartMessage.style.display = 'none';
                cartTotal.style.display = 'flex';
                buyButton.style.display = 'block';
                
                let cartHTML = '';
                
                items.forEach(item => {
                    cartHTML += `
                        <div class="book-item" data-id="${item.id}">
                            <div class="book-image">
                                <img src="${item.image}" alt="${item.title}">
                            </div>
                            <div class="book-details">
                                <h2>${item.title}</h2>
                                <p>${item.author}</p>
                                <div class="book-quantity">
                                    <button class="quantity-btn minus" data-id="${item.id}">-</button>
                                    <input type="number" class="quantity-input" value="${item.quantity}" min="1" data-id="${item.id}">
                                    <button class="quantity-btn plus" data-id="${item.id}">+</button>
                                </div>
                            </div>
                            <div class="book-price">${item.price * item.quantity} ‚ÇΩ</div>
                            <button class="remove-btn" data-id="${item.id}">√ó</button>
                        </div>
                    `;
                });
                
                cartItemsContainer.innerHTML = cartHTML;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—É–º–º—É
                totalPriceElement.textContent = `${cart.getTotalPrice()} ‚ÇΩ`;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartDisplay() {
            displayCartItems();
            cart.updateCartIndicator();
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.addEventListener('click', function(e) {
            // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
            if (e.target.classList.contains('remove-btn')) {
                const bookId = e.target.getAttribute('data-id');
                cart.removeItem(bookId);
                updateCartDisplay();
            }
            
            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
            if (e.target.classList.contains('minus')) {
                const bookId = e.target.getAttribute('data-id');
                const input = document.querySelector(`.quantity-input[data-id="${bookId}"]`);
                let quantity = parseInt(input.value);
                
                if (quantity > 1) {
                    quantity--;
                    input.value = quantity;
                    cart.updateQuantity(bookId, quantity);
                    updateCartDisplay();
                }
            }
            
            // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
            if (e.target.classList.contains('plus')) {
                const bookId = e.target.getAttribute('data-id');
                const input = document.querySelector(`.quantity-input[data-id="${bookId}"]`);
                let quantity = parseInt(input.value);
                
                quantity++;
                input.value = quantity;
                cart.updateQuantity(bookId, quantity);
                updateCartDisplay();
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–æ–ª–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('quantity-input')) {
                const bookId = e.target.getAttribute('data-id');
                let quantity = parseInt(e.target.value);
                
                if (quantity < 1) {
                    quantity = 1;
                    e.target.value = quantity;
                }
                
                cart.updateQuantity(bookId, quantity);
                updateCartDisplay();
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –ø–æ–∫—É–ø–∫–∏
        document.getElementById('buy-button').addEventListener('click', function() {
            if (cart.getItems().length > 0) {
                alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É! –í–∞—à –∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω.');
                cart.clearCart();
                updateCartDisplay();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
        });
    </script>
</body>
</html>